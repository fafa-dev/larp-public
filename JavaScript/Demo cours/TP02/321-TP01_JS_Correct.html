<!DOCTYPE html>
<!--
321-TP01_JS_Généralité_V02 : affichage d'une table de multiplication
Utilisation d'un tableau création uniquement des TR en JS
Didier Bonneau DWWM Afpa Créteil maj : 29/07/2020
-->
<html>
    <head>
        <title>321-TP01_JS_Généralité_V02</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            div {font-size: 2em;
                width: 500px;
                margin: 0 auto;}
            table {border-style: solid;
                   border-width: 2px;
                   border-collapse: collapse;}
            th, td {border-style: solid;
                    border-width: 1px;
                    text-align: center;}
            th {padding: 0 25px;}
        </style>
    </head>
    <body>
        <div>
        <h2>10 nombres aléatoires triés</h2>
        <br>
        <table>
            <tr><th>Nombres</th><th>Valeurs</th></tr>
        <script>
            
            function hasard(n){
                let nbr = Math.floor(Math.random() * n) + 1;
                return nbr;
            }
            
            function compare(x, y){
                console.log("nombre d'appel à compare");
                if(x < y){
                    return -1;
                }
                if(x > y){
                    return 1;
                }
                return 0;
            }

            function compareBis(x, y){
                console.log("nombre d'appel à compare");
                return x - y;
            }

            fctCompare = function (x, y){
                console.log("nombre d'appel à compare");
                if(x < y){
                    return -1;
                }
                if(x > y){
                    return 1;
                }
                return 0;
            };

    
            //let tableau = [];
            let tableau = new Array();
            
            max = prompt('Nombre au hasard de 1 à 100', '100');
            
            for (let i=0; i<10; i++){
                tableau.push(hasard(max));
                //tableau[i] = hasard(max);
            }
            console.log(tableau);
            
            //tableau.sort(compare);
            //tableau.sort(fctCompare);
            tableau.sort(function (x, y){
                console.log("nombre d'appel à compare");
                if(x < y){
                    return -1;
                }
                if(x > y){
                    return 1;
                }
                return 0;
            });
            
            console.log(tableau);
            tableau.forEach(function( valeur, indice, tab){
                document.write("<tr><td>"+indice+"</td><td>"+valeur+"</td></tr>");
            });
        </script>
        </table>
        </div>
    </body>
</html>
